{"ast":null,"code":"import { EventEmitter, inject } from \"@angular/core\";\nimport { UserService } from \"../../core/services/user.service\";\nimport { RouterLink } from \"@angular/router\";\nimport { map } from \"rxjs/operators\";\nimport { AsyncPipe, DatePipe, NgIf } from \"@angular/common\";\nimport * as i0 from \"@angular/core\";\nfunction ArticleCommentComponent_div_0_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\", 9)(1, \"i\", 10);\n    i0.ɵɵlistener(\"click\", function ArticleCommentComponent_div_0_span_13_Template_i_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.delete.emit(true));\n    });\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/profile\", a1];\n};\nfunction ArticleCommentComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"p\", 3);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 4)(5, \"a\", 5);\n    i0.ɵɵelement(6, \"img\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \" \\u00A0 \");\n    i0.ɵɵelementStart(8, \"a\", 5);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"span\", 7);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, ArticleCommentComponent_div_0_span_13_Template, 2, 0, \"span\", 8);\n    i0.ɵɵpipe(14, \"async\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.comment.body, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(12, _c0, ctx_r0.comment.author.username));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r0.comment.author.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(14, _c0, ctx_r0.comment.author.username));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.comment.author.username, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(12, 7, ctx_r0.comment.createdAt, \"longDate\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(14, 10, ctx_r0.canModify$));\n  }\n}\nexport class ArticleCommentComponent {\n  constructor() {\n    this.delete = new EventEmitter();\n    this.canModify$ = inject(UserService).currentUser.pipe(map(userData => userData?.username === this.comment.author.username));\n  }\n}\nArticleCommentComponent.ɵfac = function ArticleCommentComponent_Factory(t) {\n  return new (t || ArticleCommentComponent)();\n};\nArticleCommentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ArticleCommentComponent,\n  selectors: [[\"app-article-comment\"]],\n  inputs: {\n    comment: \"comment\"\n  },\n  outputs: {\n    delete: \"delete\"\n  },\n  standalone: true,\n  features: [i0.ɵɵStandaloneFeature],\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"card\", 4, \"ngIf\"], [1, \"card\"], [1, \"card-block\"], [1, \"card-text\"], [1, \"card-footer\"], [1, \"comment-author\", 3, \"routerLink\"], [1, \"comment-author-img\", 3, \"src\"], [1, \"date-posted\"], [\"class\", \"mod-options\", 4, \"ngIf\"], [1, \"mod-options\"], [1, \"ion-trash-a\", 3, \"click\"]],\n  template: function ArticleCommentComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ArticleCommentComponent_div_0_Template, 15, 16, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.comment);\n    }\n  },\n  dependencies: [RouterLink, DatePipe, NgIf, AsyncPipe],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"AAAA,SAAoBA,YAAY,EAAiBC,MAAM,QAAQ,eAAe;AAC9E,SAASC,WAAW,QAAQ,kCAAkC;AAE9D,SAASC,UAAU,QAAQ,iBAAiB;AAC5C,SAASC,GAAG,QAAQ,gBAAgB;AAEpC,SAASC,SAAS,EAAEC,QAAQ,EAAEC,IAAI,QAAQ,iBAAiB;;;;;ICiBvDC,+BAAqD;IAC5BA;MAAAA;MAAA;MAAA,OAASA,kCAAY,IAAI,CAAC;IAAA,EAAC;IAACA,iBAAI;;;;;;;;IAxB7DA,8BAAkC;IAG5BA,YACF;IAAAA,iBAAI;IAENA,8BAAyB;IAKrBA,yBAA+D;IACjEA,iBAAI;IACJA,wBACA;IAAAA,4BAGC;IACCA,YACF;IAAAA,iBAAI;IACJA,gCAA0B;IACxBA,aACF;;IAAAA,iBAAO;IACPA,kFAEO;;IACTA,iBAAM;;;;IAvBFA,eACF;IADEA,oDACF;IAKEA,eAAoD;IAApDA,wFAAoD;IAE/CA,eAA4B;IAA5BA,mEAA4B;IAKjCA,eAAoD;IAApDA,wFAAoD;IAEpDA,eACF;IADEA,+DACF;IAEEA,eACF;IADEA,4FACF;IAC2BA,eAAwB;IAAxBA,gEAAwB;;;ADTvD,OAAM,MAAOC,uBAAuB;EANpCC;IAQY,WAAM,GAAG,IAAIV,YAAY,EAAW;IAE9C,eAAU,GAAGC,MAAM,CAACC,WAAW,CAAC,CAACS,WAAW,CAACC,IAAI,CAC/CR,GAAG,CACAS,QAAqB,IACpBA,QAAQ,EAAEC,QAAQ,KAAK,IAAI,CAACC,OAAO,CAACC,MAAM,CAACF,QAAQ,CACtD,CACF;;;AATUL,uBAAuB;mBAAvBA,uBAAuB;AAAA;AAAvBA,uBAAuB;QAAvBA,uBAAuB;EAAAQ;EAAAC;IAAAH;EAAA;EAAAI;IAAAC;EAAA;EAAAC;EAAAC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCdpClB,0EA2BM;;;MA3BaA,kCAAa;;;iBDWpBL,UAAU,EAAEG,QAAQ,EAAEC,IAAI,EAAEF,SAAS;EAAAsB;AAAA","names":["EventEmitter","inject","UserService","RouterLink","map","AsyncPipe","DatePipe","NgIf","i0","ArticleCommentComponent","constructor","currentUser","pipe","userData","username","comment","author","selectors","inputs","outputs","delete","standalone","features","decls","vars","consts","template","encapsulation"],"sourceRoot":"","sources":["/Users/haalahibrahim/Desktop/Sample-Angular-Website/src/app/features/article/article-comment.component.ts","/Users/haalahibrahim/Desktop/Sample-Angular-Website/src/app/features/article/article-comment.component.html"],"sourcesContent":["import { Component, EventEmitter, Input, Output, inject } from \"@angular/core\";\nimport { UserService } from \"../../core/services/user.service\";\nimport { User } from \"../../core/models/user.model\";\nimport { RouterLink } from \"@angular/router\";\nimport { map } from \"rxjs/operators\";\nimport { Comment } from \"../../core/models/comment.model\";\nimport { AsyncPipe, DatePipe, NgIf } from \"@angular/common\";\n\n@Component({\n  selector: \"app-article-comment\",\n  templateUrl: \"./article-comment.component.html\",\n  imports: [RouterLink, DatePipe, NgIf, AsyncPipe],\n  standalone: true,\n})\nexport class ArticleCommentComponent {\n  @Input() comment!: Comment;\n  @Output() delete = new EventEmitter<boolean>();\n\n  canModify$ = inject(UserService).currentUser.pipe(\n    map(\n      (userData: User | null) =>\n        userData?.username === this.comment.author.username\n    )\n  );\n}\n","<div class=\"card\" *ngIf=\"comment\">\n  <div class=\"card-block\">\n    <p class=\"card-text\">\n      {{ comment.body }}\n    </p>\n  </div>\n  <div class=\"card-footer\">\n    <a\n      class=\"comment-author\"\n      [routerLink]=\"['/profile', comment.author.username]\"\n    >\n      <img [src]=\"comment.author.image\" class=\"comment-author-img\" />\n    </a>\n    &nbsp;\n    <a\n      class=\"comment-author\"\n      [routerLink]=\"['/profile', comment.author.username]\"\n    >\n      {{ comment.author.username }}\n    </a>\n    <span class=\"date-posted\">\n      {{ comment.createdAt | date : \"longDate\" }}\n    </span>\n    <span class=\"mod-options\" *ngIf=\"canModify$ | async\">\n      <i class=\"ion-trash-a\" (click)=\"delete.emit(true)\"></i>\n    </span>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}