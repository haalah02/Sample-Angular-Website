{"ast":null,"code":"import { HttpParams } from \"@angular/common/http\";\nimport { map } from \"rxjs/operators\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class ArticlesService {\n  constructor(http) {\n    this.http = http;\n  }\n  query(config) {\n    // Convert any filters over to Angular's URLSearchParams\n    let params = new HttpParams();\n    Object.keys(config.filters).forEach(key => {\n      // @ts-ignore\n      params = params.set(key, config.filters[key]);\n    });\n    return this.http.get(\"/articles\" + (config.type === \"feed\" ? \"/feed\" : \"\"), {\n      params\n    });\n  }\n  get(slug) {\n    return this.http.get(`/articles/${slug}`).pipe(map(data => data.article));\n  }\n  delete(slug) {\n    return this.http.delete(`/articles/${slug}`);\n  }\n  create(article) {\n    return this.http.post(\"/articles/\", {\n      article: article\n    }).pipe(map(data => data.article));\n  }\n  update(article) {\n    return this.http.put(`/articles/${article.slug}`, {\n      article: article\n    }).pipe(map(data => data.article));\n  }\n  favorite(slug) {\n    return this.http.post(`/articles/${slug}/favorite`, {}).pipe(map(data => data.article));\n  }\n  unfavorite(slug) {\n    return this.http.delete(`/articles/${slug}/favorite`);\n  }\n}\nArticlesService.ɵfac = function ArticlesService_Factory(t) {\n  return new (t || ArticlesService)(i0.ɵɵinject(i1.HttpClient));\n};\nArticlesService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ArticlesService,\n  factory: ArticlesService.ɵfac,\n  providedIn: \"root\"\n});","map":{"version":3,"mappings":"AACA,SAAqBA,UAAU,QAAQ,sBAAsB;AAE7D,SAASC,GAAG,QAAQ,gBAAgB;;;AAKpC,OAAM,MAAOC,eAAe;EAC1BC,YAA6BC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;EAAe;EAEhDC,KAAK,CACHC,MAAyB;IAEzB;IACA,IAAIC,MAAM,GAAG,IAAIP,UAAU,EAAE;IAE7BQ,MAAM,CAACC,IAAI,CAACH,MAAM,CAACI,OAAO,CAAC,CAACC,OAAO,CAAEC,GAAG,IAAI;MAC1C;MACAL,MAAM,GAAGA,MAAM,CAACM,GAAG,CAACD,GAAG,EAAEN,MAAM,CAACI,OAAO,CAACE,GAAG,CAAC,CAAC;IAC/C,CAAC,CAAC;IAEF,OAAO,IAAI,CAACR,IAAI,CAACU,GAAG,CAClB,WAAW,IAAIR,MAAM,CAACS,IAAI,KAAK,MAAM,GAAG,OAAO,GAAG,EAAE,CAAC,EACrD;MAAER;IAAM,CAAE,CACX;EACH;EAEAO,GAAG,CAACE,IAAY;IACd,OAAO,IAAI,CAACZ,IAAI,CACbU,GAAG,CAAuB,aAAaE,IAAI,EAAE,CAAC,CAC9CC,IAAI,CAAChB,GAAG,CAAEiB,IAAI,IAAKA,IAAI,CAACC,OAAO,CAAC,CAAC;EACtC;EAEAC,MAAM,CAACJ,IAAY;IACjB,OAAO,IAAI,CAACZ,IAAI,CAACgB,MAAM,CAAO,aAAaJ,IAAI,EAAE,CAAC;EACpD;EAEAK,MAAM,CAACF,OAAyB;IAC9B,OAAO,IAAI,CAACf,IAAI,CACbkB,IAAI,CAAuB,YAAY,EAAE;MAAEH,OAAO,EAAEA;IAAO,CAAE,CAAC,CAC9DF,IAAI,CAAChB,GAAG,CAAEiB,IAAI,IAAKA,IAAI,CAACC,OAAO,CAAC,CAAC;EACtC;EAEAI,MAAM,CAACJ,OAAyB;IAC9B,OAAO,IAAI,CAACf,IAAI,CACboB,GAAG,CAAuB,aAAaL,OAAO,CAACH,IAAI,EAAE,EAAE;MACtDG,OAAO,EAAEA;KACV,CAAC,CACDF,IAAI,CAAChB,GAAG,CAAEiB,IAAI,IAAKA,IAAI,CAACC,OAAO,CAAC,CAAC;EACtC;EAEAM,QAAQ,CAACT,IAAY;IACnB,OAAO,IAAI,CAACZ,IAAI,CACbkB,IAAI,CAAuB,aAAaN,IAAI,WAAW,EAAE,EAAE,CAAC,CAC5DC,IAAI,CAAChB,GAAG,CAAEiB,IAAI,IAAKA,IAAI,CAACC,OAAO,CAAC,CAAC;EACtC;EAEAO,UAAU,CAACV,IAAY;IACrB,OAAO,IAAI,CAACZ,IAAI,CAACgB,MAAM,CAAO,aAAaJ,IAAI,WAAW,CAAC;EAC7D;;AApDWd,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;SAAfA,eAAe;EAAAyB,SAAfzB,eAAe;EAAA0B,YADF;AAAM","names":["HttpParams","map","ArticlesService","constructor","http","query","config","params","Object","keys","filters","forEach","key","set","get","type","slug","pipe","data","article","delete","create","post","update","put","favorite","unfavorite","factory","providedIn"],"sourceRoot":"","sources":["/Users/haalahibrahim/Desktop/Sample-Angular-Website/src/app/core/services/articles.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\nimport { HttpClient, HttpParams } from \"@angular/common/http\";\nimport { Observable } from \"rxjs\";\nimport { map } from \"rxjs/operators\";\nimport { ArticleListConfig } from \"../models/article-list-config.model\";\nimport { Article } from \"../models/article.model\";\n\n@Injectable({ providedIn: \"root\" })\nexport class ArticlesService {\n  constructor(private readonly http: HttpClient) {}\n\n  query(\n    config: ArticleListConfig\n  ): Observable<{ articles: Article[]; articlesCount: number }> {\n    // Convert any filters over to Angular's URLSearchParams\n    let params = new HttpParams();\n\n    Object.keys(config.filters).forEach((key) => {\n      // @ts-ignore\n      params = params.set(key, config.filters[key]);\n    });\n\n    return this.http.get<{ articles: Article[]; articlesCount: number }>(\n      \"/articles\" + (config.type === \"feed\" ? \"/feed\" : \"\"),\n      { params }\n    );\n  }\n\n  get(slug: string): Observable<Article> {\n    return this.http\n      .get<{ article: Article }>(`/articles/${slug}`)\n      .pipe(map((data) => data.article));\n  }\n\n  delete(slug: string): Observable<void> {\n    return this.http.delete<void>(`/articles/${slug}`);\n  }\n\n  create(article: Partial<Article>): Observable<Article> {\n    return this.http\n      .post<{ article: Article }>(\"/articles/\", { article: article })\n      .pipe(map((data) => data.article));\n  }\n\n  update(article: Partial<Article>): Observable<Article> {\n    return this.http\n      .put<{ article: Article }>(`/articles/${article.slug}`, {\n        article: article,\n      })\n      .pipe(map((data) => data.article));\n  }\n\n  favorite(slug: string): Observable<Article> {\n    return this.http\n      .post<{ article: Article }>(`/articles/${slug}/favorite`, {})\n      .pipe(map((data) => data.article));\n  }\n\n  unfavorite(slug: string): Observable<void> {\n    return this.http.delete<void>(`/articles/${slug}/favorite`);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}