{"ast":null,"code":"import { inject } from \"@angular/core\";\nimport { TagsService } from \"../../core/services/tags.service\";\nimport { NgClass, NgForOf } from \"@angular/common\";\nimport { ArticleListComponent } from \"../../shared/article-helpers/article-list.component\";\nimport { takeUntil, tap } from \"rxjs/operators\";\nimport { Subject } from \"rxjs\";\nimport { LetDirective } from \"@rx-angular/template/let\";\nimport { ShowAuthedDirective } from \"../../shared/show-authed.directive\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../core/services/user.service\";\nfunction HomeComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 15)(2, \"h1\", 16);\n    i0.ɵɵtext(3, \"conduit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"A place to share your \");\n    i0.ɵɵelementStart(6, \"i\");\n    i0.ɵɵtext(7, \"Angular\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \" knowledge.\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction HomeComponent_div_18_a_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 22);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_18_a_5_Template_a_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const tag_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.setListTo(\"all\", {\n        tag: tag_r4\n      }));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tag_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", tag_r4, \" \");\n  }\n}\nfunction HomeComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"div\", 18)(2, \"p\");\n    i0.ɵɵtext(3, \"Popular Tags\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 19);\n    i0.ɵɵtemplate(5, HomeComponent_div_18_a_5_Template, 2, 1, \"a\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 21);\n    i0.ɵɵtext(7, \"Loading tags...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 21);\n    i0.ɵɵtext(9, \" No tags are here... yet. \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const tags_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", tags_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", ctx_r1.tagsLoaded);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !ctx_r1.tagsLoaded || tags_r2.length > 0);\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    active: a0\n  };\n};\nexport class HomeComponent {\n  constructor(router, userService) {\n    this.router = router;\n    this.userService = userService;\n    this.isAuthenticated = false;\n    this.listConfig = {\n      type: \"all\",\n      filters: {}\n    };\n    this.tags$ = inject(TagsService).getAll().pipe(tap(() => this.tagsLoaded = true));\n    this.tagsLoaded = false;\n    this.destroy$ = new Subject();\n  }\n  ngOnInit() {\n    this.userService.isAuthenticated.pipe(tap(isAuthenticated => {\n      if (isAuthenticated) {\n        this.setListTo(\"feed\");\n      } else {\n        this.setListTo(\"all\");\n      }\n    }), takeUntil(this.destroy$)).subscribe(isAuthenticated => this.isAuthenticated = isAuthenticated);\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  setListTo(type = \"\", filters = {}) {\n    // If feed is requested but user is not authenticated, redirect to login\n    if (type === \"feed\" && !this.isAuthenticated) {\n      void this.router.navigate([\"/login\"]);\n      return;\n    }\n    // Otherwise, set the list object\n    this.listConfig = {\n      type: type,\n      filters: filters\n    };\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UserService));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home-page\"]],\n  standalone: true,\n  features: [i0.ɵɵStandaloneFeature],\n  decls: 19,\n  vars: 12,\n  consts: [[1, \"home-page\"], [\"class\", \"banner\", 4, \"appShowAuthed\"], [1, \"container\", \"page\"], [1, \"row\"], [1, \"col-md-9\"], [1, \"feed-toggle\"], [1, \"nav\", \"nav-pills\", \"outline-active\"], [1, \"nav-item\"], [1, \"nav-link\", 3, \"ngClass\", \"click\"], [1, \"nav-item\", 3, \"hidden\"], [1, \"nav-link\", \"active\"], [1, \"ion-pound\"], [3, \"limit\", \"config\"], [\"class\", \"col-md-3\", 4, \"rxLet\"], [1, \"banner\"], [1, \"container\"], [1, \"logo-font\"], [1, \"col-md-3\"], [1, \"sidebar\"], [1, \"tag-list\"], [\"class\", \"tag-default tag-pill\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"hidden\"], [1, \"tag-default\", \"tag-pill\", 3, \"click\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, HomeComponent_div_1_Template, 9, 0, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"ul\", 6)(7, \"li\", 7)(8, \"a\", 8);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_a_click_8_listener() {\n        return ctx.setListTo(\"feed\");\n      });\n      i0.ɵɵtext(9, \" Your Feed \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"li\", 7)(11, \"a\", 8);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_a_click_11_listener() {\n        return ctx.setListTo(\"all\");\n      });\n      i0.ɵɵtext(12, \" Global Feed \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"li\", 9)(14, \"a\", 10);\n      i0.ɵɵelement(15, \"i\", 11);\n      i0.ɵɵtext(16);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelement(17, \"app-article-list\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(18, HomeComponent_div_18_Template, 10, 3, \"div\", 13);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"appShowAuthed\", false);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(8, _c0, ctx.listConfig.type === \"feed\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(10, _c0, ctx.listConfig.type === \"all\" && !ctx.listConfig.filters.tag));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !ctx.listConfig.filters.tag);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", ctx.listConfig.filters.tag, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"limit\", 10)(\"config\", ctx.listConfig);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"rxLet\", ctx.tags$);\n    }\n  },\n  dependencies: [NgClass, ArticleListComponent, LetDirective, NgForOf, ShowAuthedDirective],\n  styles: [\".nav-link[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n}\\n\\n.tag-pill[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvaG9tZS9ob21lLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsZUFBZTtBQUNqQiIsInNvdXJjZXNDb250ZW50IjpbIi5uYXYtbGluayB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLnRhZy1waWxsIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["inject","TagsService","NgClass","NgForOf","ArticleListComponent","takeUntil","tap","Subject","LetDirective","ShowAuthedDirective","i0","tag","HomeComponent","constructor","router","userService","type","filters","getAll","pipe","tagsLoaded","ngOnInit","isAuthenticated","setListTo","destroy$","subscribe","ngOnDestroy","next","complete","navigate","listConfig","selectors","standalone","features","decls","vars","consts","template","ctx","styles"],"sourceRoot":"","sources":["/Users/haalahibrahim/Desktop/Sample-Angular-Website/src/app/features/home/home.component.ts","/Users/haalahibrahim/Desktop/Sample-Angular-Website/src/app/features/home/home.component.html"],"sourcesContent":["import { Component, inject, OnDestroy, OnInit } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { TagsService } from \"../../core/services/tags.service\";\nimport { ArticleListConfig } from \"../../core/models/article-list-config.model\";\nimport { AsyncPipe, NgClass, NgForOf } from \"@angular/common\";\nimport { ArticleListComponent } from \"../../shared/article-helpers/article-list.component\";\nimport { takeUntil, tap } from \"rxjs/operators\";\nimport { Subject } from \"rxjs\";\nimport { UserService } from \"../../core/services/user.service\";\nimport { LetDirective } from \"@rx-angular/template/let\";\nimport { ShowAuthedDirective } from \"../../shared/show-authed.directive\";\n\n@Component({\n  selector: \"app-home-page\",\n  templateUrl: \"./home.component.html\",\n  styleUrls: [\"./home.component.css\"],\n  imports: [\n    NgClass,\n    ArticleListComponent,\n    AsyncPipe,\n    LetDirective,\n    NgForOf,\n    ShowAuthedDirective,\n  ],\n  standalone: true,\n})\nexport class HomeComponent implements OnInit, OnDestroy {\n  isAuthenticated = false;\n  listConfig: ArticleListConfig = {\n    type: \"all\",\n    filters: {},\n  };\n  tags$ = inject(TagsService)\n    .getAll()\n    .pipe(tap(() => (this.tagsLoaded = true)));\n  tagsLoaded = false;\n  destroy$ = new Subject<void>();\n\n  constructor(\n    private readonly router: Router,\n    private readonly userService: UserService\n  ) {}\n\n  ngOnInit(): void {\n    this.userService.isAuthenticated\n      .pipe(\n        tap((isAuthenticated) => {\n          if (isAuthenticated) {\n            this.setListTo(\"feed\");\n          } else {\n            this.setListTo(\"all\");\n          }\n        }),\n        takeUntil(this.destroy$)\n      )\n      .subscribe(\n        (isAuthenticated: boolean) => (this.isAuthenticated = isAuthenticated)\n      );\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  setListTo(type: string = \"\", filters: Object = {}): void {\n    // If feed is requested but user is not authenticated, redirect to login\n    if (type === \"feed\" && !this.isAuthenticated) {\n      void this.router.navigate([\"/login\"]);\n      return;\n    }\n\n    // Otherwise, set the list object\n    this.listConfig = { type: type, filters: filters };\n  }\n}\n","<div class=\"home-page\">\n  <div class=\"banner\" *appShowAuthed=\"false\">\n    <div class=\"container\">\n      <h1 class=\"logo-font\">conduit</h1>\n      <p>A place to share your <i>Angular</i> knowledge.</p>\n    </div>\n  </div>\n\n  <div class=\"container page\">\n    <div class=\"row\">\n      <div class=\"col-md-9\">\n        <div class=\"feed-toggle\">\n          <ul class=\"nav nav-pills outline-active\">\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link\"\n                [ngClass]=\"{ active: listConfig.type === 'feed' }\"\n                (click)=\"setListTo('feed')\"\n              >\n                Your Feed\n              </a>\n            </li>\n            <li class=\"nav-item\">\n              <a\n                class=\"nav-link\"\n                [ngClass]=\"{\n                  active: listConfig.type === 'all' && !listConfig.filters.tag\n                }\"\n                (click)=\"setListTo('all')\"\n              >\n                Global Feed\n              </a>\n            </li>\n            <li class=\"nav-item\" [hidden]=\"!listConfig.filters.tag\">\n              <a class=\"nav-link active\">\n                <i class=\"ion-pound\"></i> {{ listConfig.filters.tag }}\n              </a>\n            </li>\n          </ul>\n        </div>\n\n        <app-article-list [limit]=\"10\" [config]=\"listConfig\"></app-article-list>\n      </div>\n\n      <div class=\"col-md-3\" *rxLet=\"tags$; let tags\">\n        <div class=\"sidebar\">\n          <p>Popular Tags</p>\n\n          <div class=\"tag-list\">\n            <a\n              *ngFor=\"let tag of tags\"\n              (click)=\"setListTo('all', { tag: tag })\"\n              class=\"tag-default tag-pill\"\n            >\n              {{ tag }}\n            </a>\n          </div>\n\n          <div [hidden]=\"tagsLoaded\">Loading tags...</div>\n\n          <div [hidden]=\"!tagsLoaded || tags.length > 0\">\n            No tags are here... yet.\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}